<div class="table-responsive">
  <div class="input-group">
    <div class="input-group-prepend">
      <span class="input-group-text"><i class="fas fa-search"></i></span>
    </div>
    <input type="text" class="form-control" placeholder="Buscar..." (input)="filterEmployees($event)">
  </div>
  <table class="outer-table table table-bordered">
    <tbody>
      <tr class="table-header ">
        <!-- Main table headers -->
        <th class="small-text">ANI</th>
        <th class="small-text">ID Grabacion</th>
        <th class="small-text">Agente</th>
        <th class="small-text">Extension</th>
        <th class="small-text">Fecha Grabacion</th>
        <th class="small-text">Hora Grabacion</th>
        <th class="small-text">Duracion Grabacion</th>
        <th class="small-text">Servicio</th>
      </tr>
      <ng-container *ngFor="let data of filteredReport">
        <!-- Main table row -->
        <tr (click)="toggleDetails(data)" class="clickable" [class.expanded]="data.expanded">
          <!-- Main table data -->
          <td class="small-text">{{ data.ani }}</td>
          <td class="small-text">{{ data['id grabacion'] }}</td>
          <td class="small-text">{{ data.agente }}</td>
          <td class="small-text">{{ data.extension }}</td>
          <td class="small-text">{{ data['fecha grabacion'] }}</td>
          <td class="small-text">{{ data['hora grabacion'] }}</td>
          <td class="small-text">{{ data['duracion grabacion'] }}</td>
          <td class="small-text">{{ data.servicio }}</td>
        </tr>

        <ng-container *ngIf="data.expanded">
          <tr class="table-header">
            <th class="small-text" colspan="2">Usuario Creacion Resultado</th>
            <th class="small-text" colspan="2">Servidor</th>
            <th class="small-text" colspan="2">Tipo de Resultado</th>
            <th class="small-text" colspan="2">Resultado</th>
          </tr>
          <tr>
            <td class="small-text" colspan="2">{{ data['usuario creacion resultado'] }}</td>
            <td class="small-text" colspan="2">{{ data.servidor }}</td>
            <td class="small-text" colspan="2">{{ data['tipo de resultado'] }}</td>
            <td class="small-text" colspan="2">{{ data.resultado }}</td>
          </tr>
          <tr class="table-header">
            <th class="small-text">Duracion Transcripcion (minutos)</th>
            <th class="small-text">Fecha/Hora Creacion Primer Texto</th>
            <th class="small-text" colspan="2">Usuario Creacion Primer Texto</th>
            <th class="small-text" colspan="2">Fecha/Hora Primer Texto Usuario Resultado</th>
            <th class="small-text">Fecha/Hora Creacion Ultimo Texto</th>
            <th class="small-text">Fecha Creacion Resultado</th>
          </tr>
          <tr>
            <td class="small-text">{{ data['duracion transcripcion (minutos)'] }}</td>
            <td class="small-text">{{ data['fecha/hora creacion primer texto'] | excelDate | date: 'medium' }}</td>
            <td class="small-text" colspan="2">{{ data['usuario creacion primer texto'] }}</td>
            <td class="small-text" colspan="2">{{ data['fecha/hora primer texto usuario resultado'] | excelDate | date: 'medium' }}</td>
            <td class="small-text">{{ data['fecha/hora creacion ultimo texto'] | excelDate | date: 'medium' }}</td>
            <td class="small-text">{{ data['fecha creacion resultado'] | excelDate | date: 'medium' }}</td>
          </tr>
          <tr class="table-header">
            <th class="small-text" colspan="8">Transcripcion</th>
          </tr>
          <tr>
            <td class="small-text" colspan="8">{{ data.transcripcion }}</td>
          </tr>
        </ng-container>
      </ng-container>
    </tbody>
  </table>
</div>